<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href="stylesheets/prettify.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/properties.js"></script>

    <title>Scaling Selendroid by using the Selenium Grid</title>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-1537443-9']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <script type="text/javascript">
        $(document).ready(function ($) {
            buildMenu("scale");
        });
    </script>
</head>

<body onload="prettyPrint()">
<header>
    <div class="inner">
        <h1>Selendroid</h1>

        <h2>&quot;Selenium for Android Apps&quot; <br/>(Test automate native or hybrid Android apps with Selendroid.)
        </h2>
        <a href="https://github.com/DominikDary/selendroid" class="button">
            <small>View project on</small>
            GitHub</a>

        <div id="menu"/>
    </div>
</header>

<div id="content-wrapper">
    <div class="inner clearfix">
        <section id="main-content">
            <h1>Scaling Selendroid by using the Selenium Grid</h1>
<p>Steps to use selendroid together with the Selenium Grid on a local machine:</p>
            <ol>
                <li>Download selenium-server-standalone from the Selenium Project</li>
                <li>git clone https://github.com/DominikDary/selendroid.git</li>
                <li>cd selendroid-grid-plugin</li>
                <li>mvn package</li>
                <li>copy the file target/selendroid-grid-plugin-0.3.jar to the same folder where the selenium-server-standalone is stored.</li>

            </ol>
            <p>Now you can start the Grid with the selendroid-grid-plugin that contains the proxy org.openqa.selendroid.grid.SelendroidSessionProxy and a simple capability matcher org.openqa.selendroid.grid.SelendroidCapabilityMatcher.</p>
<pre><code>java -Dfile.encoding=UTF-8 -cp "selendroid-grid-plugin-0.3.jar:selenium-server-standalone-2.31.0.jar" org.openqa.grid.selenium.GridLauncher -capabilityMatcher org.openqa.selendroid.grid.SelendroidCapabilityMatcher -role hub -host 127.0.0.1 -port 4444</code></pre>
<p>Before registering a selendroid-node into the Grid please make sure the emulator and the selendroid test server are already started. Registering nodes to this grid can be done using this registration request (file name selendroid-nodes-config.json):</p>
<pre><code>{
"capabilities": [{
    "deviceName": "emulator",
    "browserName": "selendroid",
    "version":"",
    "maxInstances": 1,
    "locale": "UK",
    "sdkVersion": "4.1",
    "screenSize": "480x800",
    "aut": "selendroid-test-app:0.3",
    "maxInstances" = 1,
    "rotatable" = true,
    "platform":"ANDROID",
    "takesScreenshot" = true
    }],
    "configuration": {
    "maxSession": 1,
    "register": true,
    "hubHost": "localhost",
    "hubPort": 4444,
    "remoteHost":"http://localhost:8080",
    "proxy":"org.openqa.selendroid.grid.SelendroidSessionProxy"
    }
}</code></pre>
        <p>The node registration can be done by sending the node config to the hub:</p>
<pre><code>curl -H "Content-Type: application/json" -X POST --data @selendroid-nodes-config.json http://localhost:4444/grid/register</code></pre>
        </section>

        <aside id="sidebar">
            <div id="footer_wrap" class="outer"/>
        </aside>
    </div>
</div>
</body>
</html>
