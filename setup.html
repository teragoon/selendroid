<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href="stylesheets/prettify.css" type="text/css" rel="stylesheet"/>
    <script type="text/javascript" src="javascripts/prettify.js"></script>
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/properties.js"></script>

    <title>Setting up Selendroid</title>
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-1537443-9']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();

    </script>

    <script type="text/javascript">
        $(document).ready(function ($) {
            buildMenu("setup");
        });
    </script>
</head>

<body onload="prettyPrint()">
<header>
    <div class="inner">
        <h1>Selendroid</h1>

        <h2>&quot;Selenium for Android Apps&quot; <br/>(Test automate native or hybrid Android apps with Selendroid.)
        </h2>
        <a href="https://github.com/DominikDary/selendroid" class="button">
            <small>View project on</small>
            GitHub</a>

        <div id="menu"/>
    </div>
</header>

<div id="content-wrapper">
    <div class="inner clearfix">


        <section id="main-content">
            <div class="nav-container">
                <div class="nav">
                    <ul>
                        <li><a href="#systemRequirements">System Requirements</a></li>
                        <li><a href="#getAut">Getting a test app</a></li>
                        <li><a href="#launchingSelendroid">Launching selendroid</a></li>
                        <li><a href="#firstTest">First Test</a></li>
                        <li><a href="#androidDevices">Android Devices</a></li>

                    </ul>
                </div>
            </div>
            <br>

            <h1>Setup</h1>

            <p>Selendroid is based on the Android instrumentation framework, so therefor only testing one specific app
                is
                supported. Like Selenium we offer as well a selendroid standalone jar.</p>

            <h1 id="systemRequirements">System requirements</h1>

            <ol>
                <li>Java sdk (minimum 1.6) is installed and JAVA_HOME is configured</li>
                <li>Latest <a href="http://developer.android.com/sdk/index.html">Android-Sdk</a> is installed and
                    ANDROID_HOME is set.
                </li>
                <li>At least one Android virtual device must be existent or an Android Hardware device must be plugged
                    in to the computer.
                    For best practices about Android devices please read <a href="#androidDevices">this section</a>.
                </li>
            </ol>
            <h1 id="getAut">Getting an application under test</h1>

            <p>Selendroid can be used to test already built apps. Those Android apps (apk file) must exists on the
                machine,
                where the selendroid server will be started. The reason for this is that a customized selendroid-server
                for the
                app under test will be created and both apps (selendroid server and aut) must be signed with the same
                certificate
                in order to be able to install the apks on the device.</p>

            <p>When you want to play around with selendroid, you can use our app that we use to verify that actually
                selendroid works as expected. You can download this app <a
                        href="https://s3-us-west-1.amazonaws.com/selendroid/selendroid-test-app-0.4-SNAPSHOT.apk">here</a>
            </p>

            <h1 id="launchingSelendroid">Launching selendroid</h1>

            <p><a id="download_me" href="#">Download</a></p>
            </p>
            cd to the folder where you downloaded the jar, and run
            <pre><code>java -jar selendroid-standalone-0.4.jar -app selendroid-test-app-0.4.apk</code></pre>

            <p>Selendroid-standalone will start a http server on port 5555 and will scan all Android virtual devices
                (avd)
                that the user has created (~/.android/avd/) and will identify the Android target version and the screen
                size.
                If an emulator is running, it will be ignored. If there are Android hardware devices be plugged in, they
                are
                added to the device store as well.</p>

            <p>You can check that the application and the devices are recognized by opening a browser and navigating to:
                <a href="http://localhost:5555/wd/hub/status">http://localhost:5555/wd/hub/status</a>.</p>

            <p>You should see a json object with all the info about the app.</p>
<pre><code>{
    status: 0,
    value: {
    "os": {
        "name": "Android"
    },
    "build": {
        "browserName": "selendroid",
        "version": "dev"
    },
    "supportedApps": [{
        "appId": "io.selendroid.testapp:0.4-SNAPSHOT",
        "mainActivity": "io.selendroid.testapp.HomeScreenActivity",
        "basePackage": "io.selendroid.testapp"
    }],
    "supportedDevices": [{
        "screenSize": "320x480",
        "targetPlatform": "ANDROID17",
        "emulator": true,
        "avdName": "latest"
    }, {
        "screenSize": "320x480",
        "targetPlatform": "ANDROID16",
        "emulator": true,
        "avdName": "es"
    }, {
        "screenSize": "320x480",
        "targetPlatform": "ANDROID10",
        "emulator": true,
        "avdName": "AVD_for_api10"
    }]
    }
}</code></pre>

            <h3>Command line parameters</h3>
            <h4>-port</h4>

            <p>Specify the port for selendroid to run on, the default is 5555.</p>
            <h4>-app</h4>

            <p>Location of the application under test. Absolute path expected.</p>
            <h4>-app, -aut</h4>

            <p>Location of the application under test. Absolute path expected.</p>
            <h4>-timeoutEmulatorStart</h4>

            <p>Specify the timeout in milliseconds to start emulators, the default is 120000.</p>


            <h2 id="firstTest">First Tests</h2>

            <p>The selendroid client libraries are as well part of the standalone jar.</p>
<pre><code>SelendroidCapabilities capa =
  SelendroidCapabilities.emulator(
    DeviceTargetPlatform.ANDROID16,
      "io.selendroid.testapp:0.4");

WebDriver driver = new SelendroidDriver("http://localhost:5555/wd/hub", capa);
WebElement inputField = driver.findElement(By.id("my_text_field"));
Assert.assertEquals("true", inputField.getAttribute("enabled"));
inputField.sendKeys("Selendroid");
Assert.assertEquals("Selendroid", inputField.getText());
driver.quit();</code></pre>
            <p>When starting a new test session in the capabilities the android target platform and the id of the
                specified app
                must be provided. Based on that information an matching Android device will identified. Otherwise the
                test session
                will not be started.</p>

            <p>After the found device has been initialized, a customized selendroid-server will be created and will
                automatically
                installed on the device. The app under test will be installed as well and then the selendroid-server on
                the device will be automatically started.</p>

            <p>Ater the test session has been successfully initialized, the test commands like finding an element and
                interact
                with this element are routed to this device. If the test session has ended, the emulator will be stopped
                automatically.</p>

            <h2 id="androidDevices">Devices</h2>

            <p>Selendroid supports testing on Hardware devices as well as using Android emulators.</p>

            <h3>
                Using Emulators
            </h3>

            <p>Selendroid is only able to start and stop Android Virtual Devices (Avd) that already exist. After an
                emulator has been created, it is recommended to do the first start manually to verify everything works
                fine. When creating avds please read the following configuration recommondations:</p>
            <ul>
                <li>Use whenever possible the Intel x86 ABI</li>
                <li>
                    Install
                    <a href="http://software.intel.com/en-us/articles/installation-instructions-for-intel-hardware-accelerated-execution-manager-microsoft">Intel
                        x86 Emulator Accelerator</a>
                    on Mac and Windows and use KVM on Linux to enable hardware acceleration to massivly speed up the
                    Emulator
                </li>
                <li>Use at least 1024MB of RAM per emulator</li>
                <li>Use at least 32MB of VM Heap per emulator</li>
                <li>Use the Host GPU. If after the first start of the emulator only a black screen is displayed, please
                    deactivate this option.
                </li>
                <li>The number of emulators you can in parallel per machine depends heavily on the hardware of the
                    machine you use.
                </li>
            </ul>
            <h3>
                Using Hardware Devices
            </h3>
            <ul>
                <li>Please make sure the device has no screen lock configured.</li>
                <li>Devices must be plugged in via USB to the computer selendroid-standalone component is running on.
                </li>
            </ul>

        </section>

        <aside id="sidebar">
            <a id="download_me" href="#" class="button">Download</a>

            <div id="footer_wrap" class="outer"/>
        </aside>
    </div>
</div>
</body>
</html>
